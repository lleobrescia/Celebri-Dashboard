<div class="container-fluid convite__modelos" ng-init="Main.CheckTemplate()">
  <md-toolbar md-colors="{background: 'blue-700'}">
    <div class="md-toolbar-tools">
      <h1 class="md-flex" ng-if="!config.hasContent">Escolha o layout do seu convite de casamento</h1>
      <h1 class="md-flex" ng-if="config.hasContent">Convite configurado</h1>
    </div>
  </md-toolbar>
  <md-content flex layout-padding>
    <div ng-if="!config.hasContent">
      <p>Você poderá optar pelos layouts disponibilizados abaixo, bastando clicar sobre o que mais lhe agradar.</p>
      <p>A tipologia usada, pode ser alterada clicando sobre a mesma ou utilizando o menu ao lado.</p>
      <p>Para alterar informções de data, local ou nome dos pais,
        <a href="cerimonia" rel="prev">volte à página anterior</a>.
      </p>
    </div>
    <div ng-if="config.hasContent">
      <p>Clique em <strong>Editar</strong> para alterar a tipologia.</p>
      <p>Ou clique em <strong>Alterar Convite</strong> para alterar o layout e a tipologia.</p>
    </div>
  </md-content>

  <!--LISTA DE LAYOUTS-->
  <md-toolbar md-colors="{background: 'blue-700'}" style="margin-top:60px;" ng-hide="config.hasContent || config.cerregando">
    <div class="md-toolbar-tools">
      <h1 class="md-flex">Escolha o Layout do Convite</h1>
    </div>
  </md-toolbar>
  <md-content flex layout-padding ng-hide="config.hasContent || config.cerregando">
    <div layout="row" layout-padding layout-wrap layout-fill style="padding-bottom: 32px;" ng-cloak>
      <md-whiteframe class="md-whiteframe-1dp" flex-sm="45" flex-gt-sm="35" flex-gt-md="25" layout layout-align="center center"
        ng-repeat="imagem in config.thumbs">

        <img ng-src="{{imagem.url}}" alt="{{imagem.nome}}" class="img-responsive" ng-click="config.SetConvite(imagem.ID,imagem.nome,imagem.url)"
          data-toggle="modal" data-target="#ConviteConfirmacao">
      </md-whiteframe>
    </div>
  </md-content>

  <img src="image/loging.gif" alt="Carregando" ng-show="config.cerregando" style="width: 64px;margin: 70px auto;display: block;">

  <!-- Modal Escolha do convite -->
  <div class="modal fade" tabindex="-1" id="ConviteConfirmacao" role="dialog" aria-label="Confirmar Layout">
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>{{config.thumbNome}}</h2>
      </div>
    </md-toolbar>
    <md-content flex layout-padding class="text-center">
      <img alt="" class="center-block" ng-src="{{config.thumbEscolhido}}">
      <md-button class="md-raised md-primary" type="button" md-colors="{background: 'green'}" ng-click="config.SalvarConvite()">
        Eu quero esse!
      </md-button>
      <md-button class="md-raised md-warn" type="button" data-dismiss="modal" aria-label="Close">
        Cancelar
      </md-button>
    </md-content>
  </div>
  <!--modal-->

  <div class="row" ng-show="config.hasContent && !config.cerregando">
    <div id="Convite" class="col-xs-9" style="position: relative;width: 1000px;padding: 0;margin-left: 10px;">

      <img ng-src="{{config.layoutSelecionado}}" alt="">

      <!-- #REGION BLOCOS -->

      <p class="blocoPaisNoiva bloco" ng-style="config.blocoPaisNoiva" ng-bind-html="config.conteudoPaisNoiva"></p>

      <p class="blocoPaisNoivo bloco" ng-style="config.blocoPaisNoivo" ng-bind-html="config.conteudoPaisNoivo"></p>

      <p class="blocoMsg1 bloco" ng-style="config.blocoMsg1" ng-bind-html="config.conteudoMsg1"></p>

      <p class="blocoNomeNoivos bloco" ng-style="config.blocoNomeNoivos" ng-bind-html="config.conteudoNomecasal"></p>

      <p class="blocoMsg2 bloco" ng-style="config.blocoMsg2" ng-bind-html="config.conteudoMsg2"></p>

      <p class="blocoMsgPersonalizadaStyle bloco" ng-style="config.blocoMsgPersonalizadaStyle" ng-bind-html="config.blocoMsgPersonalizada"></p>

      <p class="blocoCerimonia bloco" ng-style="config.blocoCerimonia" ng-bind-html="config.conteudoMsg4"></p>

      <!-- #ENDREGION BLOCOS -->
    </div>
    <!-- col-xs-12 -->
  </div>
  <!-- row -->

  <!-- confirmacao -->
  <md-dialog class="modal fade" id="confirmacao" tabindex="-1" role="dialog" aria-labelledby="Confirmacao" style="       max-height: 300px;    max-width: 400px;margin: auto;">
    <md-dialog-content>
      <div class="md-dialog-content">
        <h2>Alterar Convite</h2>
        <p>
          Ao alterar o modelo do convite todo conteúdo salvo será perdido.<br> Deseja continuar?
        </p>
      </div>
      <div class="text-center">
        <md-button class="md-raised md-primary" type="button" md-colors="{background: 'green'}" ng-click="config.AlterarConvite()">
          Continuar
        </md-button>
        <md-button class="md-raised md-warn" type="button" data-dismiss="modal" aria-label="Close">
          Voltar
        </md-button>
      </div>
    </md-dialog-content>
  </md-dialog>


  <div class="row" style="margin-top: 50px;" ng-show="config.hasContent && !config.cerregando" layout-xs="column"
    layout-sm="column" layout-wrap>
    <md-button class="md-raised md-primary" type="button" data-toggle="modal" data-target="#confirmacao" ng-if="config.enableEditor">
      Alterar convite
    </md-button>

    <md-button class="md-raised md-primary md-block" ng-if="!$scope.change" href="personalizar-convite" style="top:19px">
      Editar
    </md-button>

    <md-button class="md-raised md-primary" type="button" ng-click="config.ConviteToCanvas()">
      Baixar Convite
    </md-button>
  </div>
  <!-- row -->
</div>
<!--container-fluid-->