<div class="container-fluid" ng-init="Main.CheckTemplate()">

	<md-toolbar md-colors="{background: 'blue-700'}">
		<div class="md-toolbar-tools">
			<h1 class="md-flex">Enviar Save the date</h1>
			<span flex></span>
			<md-button aria-label="Voltar" ng-href="save-the-date/configurar">
				Voltar
			</md-button>
		</div>
	</md-toolbar>
	<md-content flex layout-padding>
		<p>
			Selecione os destinatários para recebimento deste e-mail.
		</p>
		<p>
			Se você já cadastrou seus convidados, basta clicar no botão abaixo para enviar o email com o Save The Date. Se preferir,
			poderá escolher os convidados um a um da lista cadastrada.
		</p>
	</md-content>
	<md-toolbar md-colors="{background: 'blue-700'}" ng-init="$scope.serach = false">
		<div class="md-toolbar-tools">
			<h1>
				<span>Convidados Cadastrados</span>
			</h1>
			<span flex></span>
			<div class="toolbar__search">
				<md-button class="md-icon-button" aria-label="Procurar" ng-click="$scope.serach = !$scope.serach">
					<i class="fa fa-search" aria-hidden="true"></i>
				</md-button>

				<input type="text" placeholder="Procurar convidado" ng-model="saveDate.searchText" ng-if="$scope.serach">
			</div>
			<md-checkbox aria-label="Selecionar Todos" ng-checked="saveDate.IsChecked()" md-indeterminate="saveDate.IsIndeterminate()"
				ng-click="saveDate.ToggleAll()" class="md-secondary" style="margin-bottom: 0;"></md-checkbox>
		</div>
	</md-toolbar>

	<md-content flex>
		<div class="sk-circle" ng-if="saveDate.carregando">
			<div class="sk-circle1 sk-child"></div>
			<div class="sk-circle2 sk-child"></div>
			<div class="sk-circle3 sk-child"></div>
			<div class="sk-circle4 sk-child"></div>
			<div class="sk-circle5 sk-child"></div>
			<div class="sk-circle6 sk-child"></div>
			<div class="sk-circle7 sk-child"></div>
			<div class="sk-circle8 sk-child"></div>
			<div class="sk-circle9 sk-child"></div>
			<div class="sk-circle10 sk-child"></div>
			<div class="sk-circle11 sk-child"></div>
			<div class="sk-circle12 sk-child"></div>
		</div>
		<p ng-if="saveDate.convidadoLista.length === 0 && !saveDate.carregando" class="text-center">Você precisa <a href="cadastrar-convidados" rel="nofalow">cadastrar convidados</a> para poder enviar.</p>
		<md-list ng-show="saveDate.convidadoLista.length > 0 && !saveDate.carregando">
			<md-list-item class="md-3-line" ng-repeat="convidado in saveDate.convidadoLista  | filter:saveDate.searchText">
				<div class="md-list-item-text">
					<h3>{{convidado.nome}}</h3>
					<h4> {{convidado.email}}</h4>
					<p>
						{{convidado.status}}
					</p>
				</div>
				<md-checkbox aria-label="Selecionar" class="md-secondary" ng-checked="saveDate.Exists(convidado, saveDate.selecionados)"
					ng-click="saveDate.Toggle(convidado, saveDate.selecionados)"></md-checkbox>
				<md-divider inset></md-divider>
			</md-list-item>
		</md-list>
	</md-content>

	<md-content flex style="padding-top: 50px;padding-bottom: 20px;">
		<md-button aria-label="Enviar Save the Date" class="md-raised md-primary" ng-click="saveDate.Enviar()" md-colors="{background: 'green'}"
			ng-disabled="saveDate.selecionados.length === 0">
			Enviar
		</md-button>
	</md-content>

</div>
<!-- container-fluid  -->